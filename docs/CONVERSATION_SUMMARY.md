# Conversation Summary

## 주요 진행 사항
- `tiered_evaluation_v3.py`를 중심으로 보행 평가 파이프라인을 `processed_new` 데이터 구조와 일치하도록 수정하고, 공간/시간 지표(보폭, 속도, 케이던스 등)를 확장했습니다.
- 케이던스 계산 문제를 해결하기 위해 걸음마디 기반(Stride-based) 추정치를 도입하고, 턴 필터링·방향별 케이던스·필터링된 총 케이던스를 추가로 산출하도록 개선했습니다.
- `diagnose_cadence.py`를 보강하여 병원 GT 대비 MediaPipe 추정값을 다양한 방식으로 비교·진단하고, `CADENCE_DIAGNOSIS.md`에 결과와 분석을 정리했습니다.
- 케이던스/스케일 편차 원인과 해결 방향을 `CADENCE_ISSUES_SUMMARY.md`에 정리하고, 단계별 개선 계획(Phase, 목표, 산출물, 위험요인)을 수립했습니다.

## 현재 파악된 문제
- 전역 스케일 가정 및 턴 감지 한계로 인해 케이던스·보폭·속도 지표가 피험자에 따라 크게 흔들리며, 케이던스 ICC가 아직 음수 구간에 머물러 있습니다.
- 힐스트라이크 검출이 병원 기준 스트라이드 수보다 과도하게 많아 케이던스와 보폭 계산에 오차를 유발하고 있습니다.
- 케이던스 및 공간 지표 개선을 위한 자동화된 파라미터 튜닝(특히 힐스트라이크 임계값)이 아직 도입되지 않았습니다.

## 향후 작업 계획 요약
- 피험자별 스케일 추정을 도입하여 공간 지표를 안정화하고, RANSAC 등 강건한 방법으로 케이던스 추정치를 정제합니다.
- 힐스트라이크 임계값을 자동으로 탐색하는 스크립트를 개발하여 여러 피험자 데이터를 기반으로 최적 파라미터를 선정합니다.
- 확장된 진단 스크립트와 회귀 테스트를 통해 개선된 파이프라인의 성능(ICC, RMSE, strike-to-GT 비율 등)을 검증하고 문서화합니다.
