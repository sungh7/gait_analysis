# Option B (Y ì»¬ëŸ¼) ê²°ê³¼ ë³´ê³ ì„œ

## ì‹¤í–‰ ì™„ë£Œ

âœ… ê´€ì ˆë³„ ì»¬ëŸ¼ ë§¤í•‘ ì ìš©:
- ë°œëª©(ankle): X ì»¬ëŸ¼
- ë¬´ë¦(knee): Y ì»¬ëŸ¼
- ì—‰ë©ì´(hip): Y ì»¬ëŸ¼

---

## ê²°ê³¼

### Deming íšŒê·€ íŒŒë¼ë¯¸í„°

| ê´€ì ˆ | Slope | 95% CI | Intercept | ìƒíƒœ |
|------|-------|--------|-----------|------|
| **ë°œëª©** | 0.829 | [0.757, 0.900] | -0.002Â° | âœ… **ì„±ê³µ!** |
| **ë¬´ë¦** | 4.130 | [3.824, 4.435] | -0.002Â° | âš ï¸ 1.0ë³´ë‹¤ 4ë°° í¼ |
| **ì—‰ë©ì´** | -0.501 | [-0.516, -0.485] | -0.000Â° | âŒ **ìŒìˆ˜!** |

---

## ë¬¸ì œ ë¶„ì„

### ğŸš¨ ê·¼ë³¸ì ì¸ ë°ì´í„° í˜•ì‹ ë¶ˆì¼ì¹˜ ë°œê²¬

**MP ë°ì´í„° (ì ˆëŒ€ ê°ë„)**:
```
ë°œëª©:   -29.6Â° ~ -11.8Â°  (mean=-23.0Â°, std=5.0Â°)
ë¬´ë¦:    17.8Â° ~  48.6Â°  (mean=30.5Â°, std=10.1Â°)
ì—‰ë©ì´:  48.8Â° ~ 138.7Â°  (mean=91.0Â°, std=32.4Â°)
```

**GT ë°ì´í„° (í‰ê· ìœ¼ë¡œë¶€í„°ì˜ í¸ì°¨)**:
```
ë°œëª©:   -12.2Â° ~ -0.6Â°  (mean=-8.6Â°, std=3.2Â°)
ë¬´ë¦:     1.2Â° ~  7.6Â°  (mean=3.2Â°, std=2.0Â°)
ì—‰ë©ì´:  -6.8Â° ~  6.9Â°  (mean=1.1Â°, std=4.1Â°)
```

**GT Y ì»¬ëŸ¼ (ì‹œë„í•œ ëŒ€ì•ˆ)**:
```
ë°œëª©:   -20.6Â° ~ 13.8Â°  (mean=1.5Â°, std=8.5Â°)
ë¬´ë¦:    -0.3Â° ~ 61.7Â°  (mean=19.0Â°, std=20.6Â°)
ì—‰ë©ì´: -23.2Â° ~ 19.0Â°  (mean=-0.2Â°, std=15.5Â°)
```

### ë¬¸ì œì 

1. **ë°œëª©**: X ì»¬ëŸ¼ê³¼ MPê°€ ë¹„êµì  ì˜ ë§¤ì¹­ë¨ (slope 0.829) âœ…

2. **ë¬´ë¦**:
   - Y ì»¬ëŸ¼ ì‚¬ìš© ì‹œ slope 4.13
   - GTê°€ MPë³´ë‹¤ 2ë°° í° ë³€ë™ì„± (GT std=20.6Â°, MP std=10.1Â°)
   - ìŠ¤ì¼€ì¼ì€ ê°œì„ ë˜ì—ˆìœ¼ë‚˜ ì—¬ì „íˆ ë¶ˆì¼ì¹˜

3. **ì—‰ë©ì´**:
   - Y ì»¬ëŸ¼ ì‚¬ìš© ì‹œ slope **-0.50 (ìŒìˆ˜!)**
   - **MPì™€ GTì˜ ê°ë„ ë°©í–¥ì´ ë°˜ëŒ€**
   - MPê°€ ì¦ê°€í•  ë•Œ GTê°€ ê°ì†Œí•˜ëŠ” íŒ¨í„´
   - GT Y ì»¬ëŸ¼ê³¼ MPëŠ” ì™„ì „íˆ ë‹¤ë¥¸ ê°ë„ ì •ì˜ ì‚¬ìš©

---

## ê·¼ë³¸ ì›ì¸

### GT ë°ì´í„°ì˜ ì •ì²´

**traditional_condition.csv**ëŠ” ë‹¤ìŒì„ í¬í•¨:
- **X ì»¬ëŸ¼**: í‰ê· ìœ¼ë¡œë¶€í„°ì˜ í¸ì°¨ (mean-centered deviations)
- **Y ì»¬ëŸ¼**: ì•Œ ìˆ˜ ì—†ëŠ” ê°ë„ í‘œí˜„ (ë¬´ë¦ì€ ì ˆëŒ€ê° ë¹„ìŠ·, ì—‰ë©ì´ëŠ” ë°˜ëŒ€ ë°©í–¥)
- **Z ì»¬ëŸ¼**: ë˜ ë‹¤ë¥¸ ì •ê·œí™”ëœ ê°’

**extract_gt_normal_reference.py**:
- X ì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ì—¬ GT normal reference ìƒì„±
- ê²°ê³¼: ëª¨ë“  ê´€ì ˆì´ í‰ê·  ~0Â°, ì‘ì€ std
- ì´ëŠ” **ìƒëŒ€ì  í¸ì°¨**ë¥¼ ë‚˜íƒ€ëƒ„

### MP ë°ì´í„°ì˜ ì •ì²´

**MediaPipe ê°ë„**:
- 3D ëœë“œë§ˆí¬ë¡œë¶€í„° ê³„ì‚°ëœ **ì ˆëŒ€ ê´€ì ˆ ê°ë„**
- í•´ë¶€í•™ì  zero positionìœ¼ë¡œë¶€í„°ì˜ ê°ë„
- ì˜ˆ: ì—‰ë©ì´ êµ´ê³¡ 90Â° = ì§ë¦½ ìƒíƒœì—ì„œ 90ë„ êµ¬ë¶€ë¦¼

### ë¶ˆì¼ì¹˜ì˜ ë³¸ì§ˆ

**Deming íšŒê·€ì˜ ì „ì œ ì¡°ê±´**: ë‘ ì¸¡ì • ë°©ë²•ì´ ê°™ì€ ë¬¼ë¦¬ëŸ‰ì„ ë‹¤ë¥¸ ì˜¤ì°¨ë¡œ ì¸¡ì •
- âœ… ë°œëª©: ë‘ ë°ì´í„° ëª¨ë‘ dorsiflexion/plantarflexionì„ ë¹„ìŠ·í•œ ë°©ì‹ìœ¼ë¡œ í‘œí˜„
- âŒ ë¬´ë¦: ìŠ¤ì¼€ì¼ì´ 4ë°° ì°¨ì´ (ROM ì •ì˜ê°€ ë‹¤ë¥¼ ê°€ëŠ¥ì„±)
- âŒ ì—‰ë©ì´: ìŒìˆ˜ ê¸°ìš¸ê¸° = ê°ë„ ë°©í–¥ì´ ë°˜ëŒ€

---

## ëŒ€ì•ˆ GT ì†ŒìŠ¤ ì¡°ì‚¬

### hos_nor_avg.csv (ë³‘ì› ì •ìƒ í‰ê· )

```
ë°œëª©:   -11.6Â° ~ 15.1Â°  (mean=3.6Â°, std=7.2Â°)
ë¬´ë¦:     2.4Â° ~ 63.6Â°  (mean=26.1Â°, std=18.6Â°)  â† MPì™€ ë¹„ìŠ·í•œ ë²”ìœ„!
ì—‰ë©ì´:  -4.6Â° ~ 34.2Â°  (mean=16.8Â°, std=13.3Â°)
```

**ê´€ì°°**:
- ë¬´ë¦ ë²”ìœ„ê°€ MP (17.8Â° ~ 48.6Â°)ì™€ ì˜ ë§¤ì¹­ë¨!
- ì´ê²ƒì´ ì§„ì§œ ì ˆëŒ€ ê°ë„ GTì¼ ê°€ëŠ¥ì„±

### gait_long.csv

- `condition1_avg` ì»¬ëŸ¼ì´ ì›ì‹œ ê°ë„ë¥¼ í¬í•¨í•  ìˆ˜ ìˆìŒ
- ì¶”ê°€ ì¡°ì‚¬ í•„ìš”

---

## ê²°ë¡ 

### âœ… ì„±ê³µí•œ ë¶€ë¶„
1. ë°ì´í„° ë¡œë”© ë²„ê·¸ ìˆ˜ì • (Z â†’ X, Y)
2. í‰ê·  ì¤‘ì‹¬í™” êµ¬í˜„
3. **ë°œëª© ìº˜ë¦¬ë¸Œë ˆì´ì…˜ ì„±ê³µ** (slope 0.829)

### âŒ í•´ê²°ë˜ì§€ ì•Šì€ ë¬¸ì œ
1. **ë¬´ë¦**: MPì™€ GTì˜ ROM ì •ì˜ ë¶ˆì¼ì¹˜ (slope 4.13)
2. **ì—‰ë©ì´**: MPì™€ GTì˜ ê°ë„ ë°©í–¥ ë°˜ëŒ€ (slope -0.50)
3. **GT ë°ì´í„° í˜•ì‹**: traditional_condition.csvê°€ ì ˆëŒ€ ê°ë„ê°€ ì•„ë‹Œ ìƒëŒ€ì  í¸ì°¨

---

## ê¶Œì¥ ì¡°ì¹˜

### 1. GT ë°ì´í„° ì†ŒìŠ¤ ë³€ê²½ (ì¶”ì²œ)

**Option C: hos_nor_avg.csv ì‚¬ìš©**
- ë³‘ì› ì‹œìŠ¤í…œì—ì„œ ì§ì ‘ ì¶”ì¶œí•œ ì •ìƒ í‰ê· 
- ë¬´ë¦ ë²”ìœ„ê°€ MPì™€ ì˜ ë§¤ì¹­ë¨
- ì ˆëŒ€ ê°ë„ì¼ ê°€ëŠ¥ì„±ì´ ë†’ìŒ

**êµ¬í˜„**:
```python
def load_hos_nor_avg(csv_path: Path) -> Dict[str, np.ndarray]:
    """Load hospital normal average (101 points per joint)"""
    hos = pd.read_csv(csv_path, header=None, names=['var_name', 'value'])

    curves = {}
    for var_name in ['r.an.angle', 'r.kn.angle', 'r.hi.angle']:
        data = hos[hos['var_name'] == var_name]['value'].values
        if len(data) == 101:
            curves[JOINT_MAP_REVERSE[var_name]] = data

    return curves
```

### 2. MP ê°ë„ ê³„ì‚° ê²€ì¦

- MediaPipe 3D ì¢Œí‘œ â†’ ê°ë„ ë³€í™˜ ë¡œì§ ì¬ê²€í† 
- íŠ¹íˆ ì—‰ë©ì´ ê°ë„ ë°©í–¥ í™•ì¸
- í•´ë¶€í•™ì  convention (êµ´ê³¡=ì–‘ìˆ˜?)ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸

### 3. ê´€ì ˆë³„ êµì •

**ë°œëª©**:
- í˜„ì¬ ìº˜ë¦¬ë¸Œë ˆì´ì…˜ ì‚¬ìš© (slope 0.829) âœ…

**ë¬´ë¦**:
- hos_nor_avg.csv ì‹œë„
- ë˜ëŠ” slope 4.13 ê·¸ëŒ€ë¡œ ì‚¬ìš© (MP = 4.13 Ã— GT + offset)

**ì—‰ë©ì´**:
- hos_nor_avg.csv ì‹œë„
- MP ê°ë„ ê³„ì‚° ìˆ˜ì • í•„ìš”í•  ìˆ˜ë„ (ë°©í–¥ ë°˜ì „)

---

## í˜„ì¬ ìƒíƒœ

**Phase 1 Day 1-3 ë¸”ë¡œì»¤**:
- âœ… Deming íšŒê·€ êµ¬í˜„ ì™„ë£Œ
- âœ… ë°œëª© ìº˜ë¦¬ë¸Œë ˆì´ì…˜ ì‘ë™
- âŒ ë¬´ë¦/ì—‰ë©ì´ GT ë°ì´í„° í˜•ì‹ ë¶ˆì¼ì¹˜
- ğŸ”§ **GT ì†ŒìŠ¤ ë³€ê²½ í•„ìš”** (hos_nor_avg.csv ë˜ëŠ” gait_long.csv)

**ë‹¤ìŒ ë‹¨ê³„**:
1. hos_nor_avg.csvë¡œ GT ë¡œë”© ì‹œë„
2. ë¬´ë¦/ì—‰ë©ì´ Deming íšŒê·€ ì¬ì‹¤í–‰
3. 3ê°œ ê´€ì ˆ ëª¨ë‘ slope 0.8-1.2 ë‹¬ì„± ì—¬ë¶€ í™•ì¸
4. ì„±ê³µ ì‹œ Phase 1 Day 4-5 (í•„í„°ë§) ì§„í–‰

---

**ë³´ê³ ì„œ ìƒì„±ì¼**: 2025-11-07
**ìƒíƒœ**: ë°œëª© ì„±ê³µ, ë¬´ë¦/ì—‰ë©ì´ GT ì†ŒìŠ¤ ë³€ê²½ í•„ìš”
